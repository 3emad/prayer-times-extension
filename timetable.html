<!DOCTYPE html>
<html>
<head>
  <title>Prayer Timetable</title>
  <script type='text/javascript' src='/js/MonthlyPrayerTimetable.js'></script>
  <link rel="stylesheet" type="text/css" href="/css/timetable.css" />
</head>
<body onload="postInit()"> 
  <div id="header">
    <h1>Prayer Timetable <em id="version"></em></h1>
  </div>
  <div class="extension-template">
    <div class="extension-header">Timetable</div>
    <div class="extension-options">
      <div id="controls">
        <button onclick="getPrevious()">&laquo; prev </button>
        <span id="table-title"></span>
        <button onclick="getNext()">next &raquo;</button>
      </div>
      <table id="timetable" align="center"> 
        <tbody></tbody> 
      </table>
      <p id="precaution">The above times are based on 
          calculations only. Please allow +/- 3  minutes for Fajr, 1 minute for 
          Dhuhr, and 2 minutes for Maghrib as a precaution.</p>
    </div>
  </div>
  <div id="credits">
    Extension developed by <a href="http://www.mohamedmansour.com">Mohamed Mansour</a>
  </div>
  <script>
  var bkg =chrome.extension.getBackgroundPage();
  var entity = bkg.getPrayerEntity();
  var monthlyTimetable = new MonthlyPrayerTimetable(entity, 'timetable');
  monthlyTimetable.viewMonth(0);
  
  /**
   * View next month.
   */
  function getNext() {
    monthlyTimetable.viewMonth(+1);
  }
  
  /**
   * View previous month.
   */
  function getPrevious() {
    monthlyTimetable.viewMonth(-1);
  }
  
  /**
   * When dom is loading set some options.
   */
  function postInit() {
     document.getElementById('version').innerHTML =
         ' (v' + bkg.settings.version + ')';
  }
  </script>
</body>
</html>